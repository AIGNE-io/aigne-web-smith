# ワークスペースとデータの消去

`clear` コマンドは、プロジェクトのワークスペース（通常は `./.websmith/tmp` ディレクトリ）を管理するためのユーティリティです。これにより、生成されたファイル、キャッシュされたデータ、および設定を選択的に削除できます。これは、新しいビルドを開始したり、設定をリセットしたり、機密性の高い認証データを削除したりする場合に特に便利です。

このコマンドの実行は破壊的な操作になる可能性があります。続行する前に、重要なデータをすべてバックアップしていることを確認してください。

## 対話的な消去

このコマンドを使用する最も簡単な方法は、引数なしで実行することです。これにより対話型プロンプトが起動し、消去したい特定の項目を選択できます。

```bash コマンドライン icon=lucide:terminal
aigne web clear
```

これにより、削除可能な項目のリストが表示されます。矢印キーで移動し、スペースバーで項目を選択し、Enterキーを押して選択を確定できます。

## 消去可能なターゲット

次の表は、消去できる特定の項目、その内容、およびそれらを直接消去するためのコマンドを詳述しています。

| ターゲット名 | コマンドフラグ | 説明 |
| :--- | :--- | :--- |
| ウェブサイトの構造 | `websiteStructure` | ワークスペースからウェブサイトの構造ファイル（`website-structure.yaml`）を削除します。元のソースコンテンツには影響しません。 |
| 生成されたページ | `generatedPages` | ワークスペースから生成されたすべてのページコンテンツを削除します。これにより、ウェブサイトの構造ファイルはそのまま残ります。 |
| ウェブサイトの設定 | `websiteConfig` | メインの `config.yaml` ファイルを削除します。**注意：** この操作は元に戻せません。新しい設定ファイルを生成するには、`aigne web init` を実行する必要があります。 |
| 認証情報 | `authTokens` | 認証トークンを保存する `.env.websmith` ファイルを削除します。消去後、公開などの操作のためにCLIを再認証する必要があります。 |
| デプロイ設定 | `deploymentConfig` | `config.yaml` ファイルから `appUrl` キーのみを削除します。これは、ウェブサイト全体の設定を削除せずにデプロイターゲットをリセットするのに便利です。 |
| メディアファイルの説明 | `mediaDescription` | メディアアセット用にAIが生成したキャッシュ済みの説明を削除します。これらは、次回 `generate` コマンドを実行した際に自動的に再生成されます。 |
| 翻訳キャッシュ | `translationCaches` | AIが生成した翻訳キャッシュを削除します。これらは、次回公開時に自動的に再生成されます。 |

## 非対話的な消去

対話型プロンプトをバイパスするには、`--targets` フラグに続けて1つ以上のターゲット名を指定します。これは、クリーンアップタスクのスクリプト化や自動化に便利です。

### 単一ターゲットの消去
単一の項目を消去するには、`--targets` フラグでその名前を指定します。

```bash ウェブサイトの構造を消去 icon=lucide:terminal
aigne web clear --targets websiteStructure
```

### 複数ターゲットの消去

スペースで区切られたターゲットのリストを提供することで、一度に複数の項目を消去できます。次の例では、ウェブサイトの構造と生成されたページの両方を消去します。

```bash 複数ターゲットを消去 icon=lucide:terminal
aigne web clear --targets websiteStructure generatedPages
```

## まとめ

`clear` コマンドは、プロジェクトの生成アセットと設定を安全かつ制御された方法で管理する手段を提供します。ガイド付きのクリーンアップには対話モードを使用し、直接的な自動制御には `--targets` フラグを使用してください。意図しないデータ損失を避けるため、特に `websiteConfig` を消去する際には常に注意を払ってください。

ワークスペースまたは生成されたページを消去した後、再度ウェブサイトの生成に進むことができます。詳細については、[ウェブサイトの生成](./core-tasks-generating-a-website.md) を参照してください。