# ワークスペースとデータのクリア

`clear` コマンドは、プロジェクトのワークスペースを管理するためのユーティリティです。生成されたファイル、キャッシュされたデータ、設定を選択的に削除できます。これは、新しいビルドを開始したり、設定をリセットしたり、機密性の高い認証データを削除したりする場合に特に便利です。

コマンドの実行は破壊的な操作です。続行する前に、重要なデータをバックアップしていることを確認してください。

## 対話的なクリア

コマンドを使用する最も簡単な方法は、引数なしで実行することです。これにより対話型プロンプトが起動し、クリアしたい特定の項目を選択できます。

```bash コマンドライン icon=lucide:terminal
aigne web clear
```

削除可能な項目の一覧が表示されます。矢印キーで移動し、スペースバーで項目を選択し、Enterキーを押して選択を確定できます。

## クリア可能なターゲット

次の表は、クリアできる特定の項目、その内容、および直接クリアするためのコマンドの詳細です。

| ターゲット名 | コマンドフラグ | 説明 |
| :--- | :--- | :--- |
| ワークスペース | `workspace` | ウェブサイトの構造が計画され、生成前に保存される一時的なワークスペースディレクトリ (`./.websmith/tmp`) を削除します。元のソースコンテンツは影響を受けません。 |
| 生成されたページ | `generatedPages` | 出力ディレクトリ (`./.websmith/dist`) から最終的なウェブサイトファイルをすべて削除します。これにより、公開バージョンのサイトは削除されますが、ウェブサイトの構造とソースコンテンツはそのまま残ります。 |
| ウェブサイト設定 | `websiteConfig` | メインの `config.yaml` ファイルを削除します。**注意：** この操作は元に戻せません。新しい設定ファイルを生成するには `aigne web init` を実行する必要があります。 |
| 認証情報 | `authTokens` | 認証トークンを保存する `.env.websmith` ファイルを削除します。クリア後、公開などの操作のためにCLIを再認証する必要があります。 |
| デプロイ設定 | `deploymentConfig` | `config.yaml` ファイルから `appUrl` キーのみを削除します。これは、ウェブサイト設定全体を削除せずにデプロイターゲットをリセットする場合に便利です。 |
| メディアファイルの説明 | `mediaDescription` | メディアアセット用にキャッシュされた、AIが生成した説明を削除します。これらの説明は、次に `generate` コマンドを実行したときに自動的に再生成されます。 |

## 非対話的なクリア

対話型プロンプトをバイパスするには、`--targets` フラグに続けて1つ以上のターゲット名を指定します。これは、クリーンアップタスクのスクリプト化や自動化に便利です。

### 単一ターゲットのクリア
単一の項目をクリアするには、`--targets` フラグの後にその名前を指定します。

```bash ワークスペースのクリア icon=lucide:terminal
aigne web clear --targets workspace
```

### 複数ターゲットのクリア

スペースで区切られたターゲットのリストを提供することで、一度に複数の項目をクリアできます。次の例では、一時的なワークスペースと最終的に生成されたページの両方をクリアします。

```bash 複数ターゲットのクリア icon=lucide:terminal
aigne web clear --targets workspace generatedPages
```

## まとめ

`clear` コマンドは、プロジェクトの生成アセットと設定を安全かつ管理された方法で管理する手段を提供します。ガイド付きのクリーンアップには対話モードを、直接的で自動化された制御には `--targets` フラグを使用してください。意図しないデータ損失を避けるため、特に `websiteConfig` をクリアする際には常に注意を払ってください。

ワークスペースまたは生成されたページをクリアした後、再度ウェブサイトの生成に進むことができます。詳細については、[ウェブサイトの生成](./core-tasks-generating-a-website.md) を参照してください。