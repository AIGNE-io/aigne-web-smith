# 清理工作区和数据

`clear` 命令是一个用于管理项目工作区的实用工具。它允许您选择性地移除生成的文件、缓存数据和配置设置。当您想开始一次全新的构建、重置配置或移除敏感的授权数据时，这个命令特别有用。

执行该命令是一个破坏性操作。在继续之前，请确保您已备份所有重要数据。

## 交互式清理

使用该命令最简单的方法是不带任何参数运行它。这将启动一个交互式提示，您可以在其中选择希望清理的具体项目。

```bash 命令行 icon=lucide:terminal
aigne web clear
```

这将展示一个可移除项目的列表。您可以使用箭头键导航，使用空格键选择项目，然后按 Enter 键确认您的选择。

## 可清理的目标

下表详细说明了可以清理的具体项目、它们包含的内容以及直接清理它们的命令。

| 目标名称 | 命令标志 | 描述 |
| :--- | :--- | :--- |
| 工作区 | `workspace` | 移除临时工作区目录 (`./.websmith/tmp`)，网站结构在生成前在此规划和存储。您的原始源内容不受影响。 |
| 生成的页面 | `generatedPages` | 从输出目录 (`./.websmith/dist`) 中删除所有最终的网站文件。这将移除您网站的已发布版本，但网站结构和源内容保持不变。 |
| 网站配置 | `websiteConfig` | 删除主 `config.yaml` 文件。**注意：** 此操作不可逆。您需要运行 `aigne web init` 来生成一个新的配置文件。 |
| 授权 | `authTokens` | 删除 `.env.websmith` 文件，该文件存储身份验证令牌。清理后，您需要为发布等操作重新授权 CLI。 |
| 部署配置 | `deploymentConfig` | 仅从您的 `config.yaml` 文件中移除 `appUrl` 键。这对于在不删除整个网站配置的情况下重置部署目标很有用。 |
| 媒体文件描述 | `mediaDescription` | 删除为您的媒体资产缓存的、由 AI 生成的描述。这些描述将在您下次运行 `generate` 命令时自动重新生成。 |

## 非交互式清理

要绕过交互式提示，您可以使用 `--targets` 标志，后跟一个或多个目标名称。这对于编写脚本或自动化清理任务很有用。

### 清理单个目标
要清理单个项目，请在 `--targets` 标志后指定其名称。

```bash 清理工作区 icon=lucide:terminal
aigne web clear --targets workspace
```

### 清理多个目标

您可以提供一个以空格分隔的目标列表，以一次性清理多个项目。以下示例同时清理了临时工作区和最终生成的页面。

```bash 清理多个目标 icon=lucide:terminal
aigne web clear --targets workspace generatedPages
```

## 总结

`clear` 命令提供了一种安全可控的方式来管理您项目的生成资产和配置。使用交互模式进行引导式清理，或使用 `--targets` 标志进行直接的自动化控制。请务必谨慎操作，尤其是在清理 `websiteConfig` 时，以避免意外的数据丢失。

在清理工作区或生成的页面后，您可能希望继续再次生成网站。更多详情，请参阅[生成网站](./core-tasks-generating-a-website.md)。