# プリファレンスの管理

WebSmith にフィードバックを、例えば `update` プロセス中に提供すると、その指示から学習します。将来の生成物をより賢く、あなたのスタイルに沿ったものにするために、WebSmith はこのフィードバックを「プリファレンス」として保存できます。これらのプリファレンスは再利用可能なルールであり、将来自動的に適用されます。

`prefs` コマンドは、これらの保存された指示を管理するためのツールです。保存されているすべてのプリファレンスを表示したり、一時的に無効にしたり、永久に削除したりすることができます。これにより、WebSmith があなたのためにその動作をカスタマイズする方法を完全に制御できます。

## プリファレンスについて

各プリファレンスルールには、その機能と適用されるタイミングを定義するいくつかの部分があります。プリファレンスを一覧表示すると、構造化された形式で表示されます。

各部分の意味の内訳は次のとおりです。

| コンポーネント | 説明 |
| :--- | :--- |
| **ステータス** | ルールがアクティブかどうかを示します。🟢 はアクティブであり、使用されることを意味します。⚪ は非アクティブであり、無視されることを意味します。 |
| **スコープ** | ルールがいつ適用されるべきかを決定します。スコープには `global`、`structure`、`page`、`translation` の4種類があります。例えば、`page` スコープのルールは、ページコンテンツを洗練させる場合にのみ使用されます。 |
| **ID** | プリファレンスの一意の識別子です（例：`pref_a1b2c3d4`）。この ID を使用して、特定のルールの有効/無効を切り替えたり、削除したりします。 |
| **パス** | ルールが特定のファイルに限定されている場合、関連するパスがここにリストされます。一般的なルールの場合、ここは空白になります。 |
| **ルール** | WebSmith が従う実際の指示です。これは、あなたが提供したフィードバックの簡潔な要約です。 |

## すべてのプリファレンスを一覧表示する

WebSmith が保存したすべてのプリファレンスを表示するには、`--list` フラグを使用します。このコマンドは、ステータス、スコープ、ID、および指示そのものを含む、すべてのルールの完全な概要を提供します。

```bash Command icon=lucide:terminal
aigne web prefs --list
```

**出力例：**

```text 出力例
# ユーザープリファレンス

**フォーマットの説明：**
- 🟢 = アクティブなプリファレンス, ⚪ = 非アクティブなプリファレンス
- [scope] = プリファレンスのスコープ (global, structure, page, translation)
- ID = 一意のプリファレンス識別子
- Paths = 特定のファイルパス（該当する場合）

🟢 [page] pref_1a2b3c4d
   コードコメントは英語で記述する必要があります。

⚪ [structure] pref_5e6f7g8h | Paths: /overview, /tutorials
   概要ページとチュートリアルページの最後に「次のステップ」セクションを追加します。
```

## プリファレンスのステータスを切り替える

プリファレンスを完全に削除せずに一時的に無効にしたい場合は、`--toggle` フラグを使用できます。プリファレンスを切り替えると、そのステータスがアクティブ（🟢）と非アクティブ（⚪）の間で切り替わります。

`--id` オプションで ID を指定することで、切り替えるプリファレンスを指定できます。

```bash Command icon=lucide:terminal
aigne web prefs --toggle --id pref_1a2b3c4d
```

ID を指定せずにコマンドを実行すると、WebSmith はインタラクティブモードになり、リストから切り替えたいプリファレンスを選択できます。

```bash Command icon=lucide:terminal
aigne web prefs --toggle
```

これにより、現在のプリファレンスのチェックリストが表示され、選択できるようになります。

## プリファレンスの削除

プリファレンスが不要になった場合は、`--remove` フラグを使用して完全に削除できます。

1つまたは複数の特定のプリファレンスを削除するには、`--id` オプションを使用してそれらの ID を指定します。

```bash Command icon=lucide:terminal
aigne web prefs --remove --id pref_1a2b3c4d pref_5e6f7g8h
```

切り替えと同様に、ID を指定せずに `remove` コマンドを実行すると、WebSmith はインタラクティブなチェックリストを起動し、削除したいプリファレンスを選択できます。

```bash Command icon=lucide:terminal
aigne web prefs --remove
```

---

プリファレンスを管理することで、AI の動作を時間経過とともに洗練・誘導し、生成されるコンテンツが常にあなたの基準を満たすようにできます。プリファレンスの作成方法の詳細については、[ウェブサイトコンテンツの更新](./core-tasks-updating-website-content.md)セクションを参照してください。