# 新しい専用ウェブサイトに公開する

このガイドでは、コンテンツを新しい専用ウェブサイトに公開するための体系的なプロセスを説明します。このオプションは有料サービスで、プロジェクト用に完全に管理されたホスティング環境を提供します。カスタムドメインや専用リソースが必要なプロフェッショナル用途に適しています。

プロセスは自動化されています。コマンドを開始すると、AIGNE WebSmithが一度限りのセットアップと支払いプロセスを案内します。完了すると、ウェブサイトが作成され、コンテンツがそこに公開されます。

## プロセスの概要

新しい専用ウェブサイトへの公開には、`publish`コマンドによって処理される一連の自動化されたステップが含まれます。このコマンドは、デプロイメントサービスと連携して、必要なすべてのリソースをプロビジョニングし、設定します。

ワークフローは以下の通りです：

1.  **開始**：ユーザーが `aigne web publish` コマンドを実行します。
2.  **オプションの選択**：ユーザーが対話型プロンプトから「新しい専用ウェブサイト」オプションを選択します。
3.  **アセットの確認**：ユーザーは、ブランディング、ナビゲーション、ロケール設定をデプロイメントに含めるかどうかを確認するよう求められます。
4.  **支払いとプロビジョニング**：ユーザーは安全なウェブページにリダイレクトされ、支払いを完了します。その後、システムが自動的にウェブサイトのホスティングと環境をセットアップします。
5.  **コンテンツのデプロイ**：AIGNE WebSmithは、生成されたページを新しく作成されたウェブサイト上のデフォルトプロジェクトにアップロードし、公開します。
6.  **確認**：ユーザーは新しいウェブサイトのライブURLを受け取ります。

## ステップバイステップの手順

ウェブサイトを公開するには、これらの手順に正確に従ってください。

### 1. 公開コマンドの開始

まず、`aigne web generate` コマンドを使用してウェブサイトのページが生成されていることを確認してください。出力ディレクトリにコンテンツの準備ができたら、ターミナルで次のコマンドを実行します。

```bash
aigne web publish
```

### 2. 公開オプションの選択

いくつかの公開オプションが表示されます。矢印キーを使用して「新しい専用ウェブサイト」オプションをハイライトし、選択してください。

```text
? ページを公開するプラットフォームを選択してください:
  WebSmith Cloud (https://websmith.aigne.io) – 無料ホスティング。ページは一般公開されます。オープンソースプロジェクトやコミュニティでの共有に最適です。
  既存のウェブサイト - 現在のサイトに直接統合して公開します（セットアップが必要）
❯ 新しい専用ウェブサイト - 有料サービス。カスタムドメインとホスティングを備えた新しいウェブサイトをプロフェッショナル用途に作成します。
```

Enterキーを押して選択を確定します。

### 3. 追加アセットの確認

新しいウェブサイトの作成を選択した後、追加のウェブサイトアセットを公開するかどうかを確認するメッセージが表示されます。これには、プロジェクトで定義されているブランディング詳細（名前、説明）、ナビゲーション構造、ロケール設定が含まれます。

```text
? ページを新しい専用ウェブサイトにロケール、ナビゲーション、ブランディングと共に公開しますか？ › (Y/n)
```

新しいウェブサイトが完全に設定されるように、「はい」（デフォルト）を選択することをお勧めします。これらのアセットを公開することで、サイトのブランディング、メニュー構造、言語オプションが正しく適用されるようになります。

### 4. セットアップと支払いの完了

オプションを選択すると、自動セットアッププロセスが開始されます。

1.  **支払い**：ターミナルに支払いプロセスの開始を示すメッセージが表示されます。安全な支払いリンクがデフォルトのウェブブラウザで開かれます。

    ```text
    🚀 デプロイメントを開始しています...
    ⏳ ステップ 1/4: 支払いを待っています...
    🔗 支払いリンク: https://payment.example.com/session/checkout_12345
    ```

2.  **プロビジョニング**：ウェブページの指示に従って支払いを完了してください。この間、コマンドラインツールは待機します。支払いが確認されると、システムは自動的にセットアップを続行します。ターミナルで進捗状況の更新が表示されます。

    ```text
    📦 ステップ 2/4: ウェブサイトをセットアップしています...
    🚀 ステップ 3/4: ウェブサイトを起動しています...
    🌐 ステップ 4/4: ウェブサイトのURLを取得しています...
    ```

3.  **完了**：セットアップが完了すると、ターミナルに新しいウェブサイトのURLとサブスクリプションを管理するためのリンクを含む確認メッセージが表示されます。

    ```text
    🔗 ウェブサイトの準備ができました: https://your-new-site.example.com
    🔗 サブスクリプションの管理はこちら: https://billing.example.com/manage/sub_12345
    ```

### 5. コンテンツの自動公開

専用ウェブサイトが正常にプロビジョニングされると、AIGNE WebSmithは直ちに生成されたページとメディアアセットのアップロードを開始します。このプロセスは完全に自動です。

完了すると、公開されたページのライブURLを一覧表示する最終確認メッセージが届きます。

```text
✅ ページの公開に成功しました！ (`15/15` ページ, `42` メディアアセット)

🔗 ライブURL:
   https://your-new-site.example.com/
   https://your-new-site.example.com/about
   https://your-new-site.example.com/services
   ...

💡 オプション: 特定のページを更新 (`aigne web update`) またはウェブサイト構造を再構築 (`aigne web generate`)
```

## 未完了のセットアップを再開する

以前に専用ウェブサイトの作成が開始されたものの完了しなかった場合（例：支払いプロセスが中断された）、システムはセッション詳細を保存します。次回 `aigne web publish` を実行すると、プロセスを再開するための追加オプションが表示されます。

```text
? ページを公開するプラットフォームを選択してください:
  WebSmith Cloud (https://websmith.aigne.io) – 無料ホスティング...
  既存のウェブサイト - ...
❯ 前回のウェブサイトセットアップを再開 - 支払い済み。中断したところから続行します。支払いはすでに処理されています。
  新しい専用ウェブサイト - 有料サービス...
```

この「再開」オプションを選択すると、支払いがすでに処理されている場合、最初からやり直したり再度支払ったりすることなく、中断したところから続行できます。システムは保存された `checkoutId` を使用して前のセッションを復元し、ウェブサイトのセットアップを完了します。

## まとめ

これで、プロジェクトを新しい専用ウェブサイトに正常に公開できました。コンテンツはライブ状態になり、提供されたURLでアクセスできます。変更を加えるには、`aigne web update` でコンテンツを更新するか、`aigne web generate` でサイト構造全体を再生成し、その後再度 `aigne web publish` コマンドを実行します。システムは保存された設定を使用して、同じウェブサイトに更新を公開します。