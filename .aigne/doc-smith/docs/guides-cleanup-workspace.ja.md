# ワークスペースのクリーンアップ

このガイドを使用して `aigne web clear` を安全に実行する方法を学びます。生成されたページを削除したり、キャッシュされたデータをリセットしたり、プロジェクトを引き渡す前に認証トークンを削除したりする場合に役立ちます。

`clear` コマンドは、プロジェクトのワークスペース（通常は `./.websmith/tmp` ディレクトリ）を管理するためのユーティリティです。生成されたファイル、キャッシュされたデータ、設定を選択的に削除できます。これは、新しいビルドを開始したり、設定をリセットしたり、機密性の高い認証データを削除したりする場合に特に便利です。

このコマンドの実行は破壊的な操作になる可能性があります。続行する前に、重要なデータがバックアップされていることを確認してください。

## 対話的なクリア

このコマンドを使用する最も簡単な方法は、引数なしで実行することです。これにより対話的なプロンプトが起動し、クリアしたい特定の項目を選択できます。

```bash ワークスペースのクリーンアップ icon=lucide:terminal
aigne web clear
```

これにより、削除可能な項目のリストが表示されます。矢印キーで移動し、スペースバーで項目を選択し、Enterキーを押して選択を確定できます。

## クリア可能なターゲット

次の表は、クリアできる特定の項目、その内容、および直接クリアするためのコマンドの詳細です。

| ターゲット名 | コマンドフラグ | 説明 |
| :--- | :--- | :--- |
| Website Structure | `websiteStructure` | ワークスペースからウェブサイト構造ファイル (`website-structure.yaml`) を削除します。元のソースコンテンツには影響しません。 |
| Generated Pages | `generatedPages` | ワークスペースから生成されたすべてのページコンテンツを削除します。ウェブサイト構造ファイルはそのまま残ります。 |
| Website Configuration | `websiteConfig` | メインの `config.yaml` ファイルを削除します。**注意：** この操作は元に戻せません。新しい設定ファイルを生成するには `aigne web init` を実行する必要があります。 |
| Authorizations | `authTokens` | 認証トークンを保存する `.env.websmith` ファイルを削除します。クリア後、公開などの操作のために再認証する必要があります。 |
| Deployment Config | `deploymentConfig` | `config.yaml` ファイルから `appUrl` キーのみを削除します。ウェブサイト設定全体を削除せずにデプロイターゲットをリセットする場合に便利です。 |
| Media File Descriptions | `mediaDescription` | メディアアセット用にAIが生成したキャッシュ済みの説明を削除します。これらは次回の `generate` コマンド実行時に自動的に再生成されます。 |
| Translation Caches | `translationCaches` | AIが生成した翻訳キャッシュを削除します。これらは次回の公開時に自動的に再生成されます。 |

## 非対話的なクリア

対話的なプロンプトをバイパスするには、`--targets` フラグに続けて1つ以上のターゲット名を指定します。これは、クリーンアップタスクのスクリプト化や自動化に便利です。

### 単一ターゲットのクリア
単一の項目をクリアするには、`--targets` フラグでその名前を指定します。

```bash ウェブサイト構造のクリア icon=lucide:terminal
aigne web clear --targets websiteStructure
```

### 複数ターゲットのクリア

スペースで区切られたターゲットのリストを指定して、一度に複数の項目をクリアできます。次の例では、ウェブサイトの構造と生成されたページの両方をクリアします。

```bash --targets Websitestructure Generatedpages のクリア icon=lucide:terminal
aigne web clear --targets websiteStructure generatedPages
```

## まとめ

`clear` コマンドは、プロジェクトで生成されたアセットと設定を安全かつ制御された方法で管理する手段を提供します。ガイド付きのクリーンアップには対話モードを使用し、直接的で自動化された制御には `--targets` フラグを使用してください。意図しないデータ損失を避けるため、特に `websiteConfig` をクリアする際は常に注意してください。

ワークスペースや生成されたページをクリアした後、再度ウェブサイトの作成に進むことができます。詳細については、[ウェブサイトの作成](./guides-create-website.md)を参照してください。
