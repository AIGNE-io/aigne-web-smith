# 清理工作區

本指南將引導您安全地執行 `aigne web clear`，無論您是想清除生成的頁面、重置快取資料，還是在交付專案前移除授權權杖。

`clear` 指令是一個用於管理專案工作區（通常是 `./.websmith/tmp` 目錄）的工具。它允許您選擇性地移除生成的檔案、快取資料和配置設定。當您想要開始一次全新的建置、重置配置或移除敏感的授權資料時，這個功能特別有用。

執行此指令可能是一個破壞性的操作。在繼續之前，請確保您已備份所有重要資料。

## 互動式清理

使用此指令最簡單的方式是不帶任何參數執行它。這將啟動一個互動式提示，您可以在其中選擇想要清理的具體項目。

```bash 清理工作區 icon=lucide:terminal
aigne web clear
```

這將會顯示一個可供移除的項目列表。您可以使用方向鍵導航，使用空格鍵選擇項目，並按 Enter 鍵確認您的選擇。

## 可清理的目標

下表詳細說明了可以清理的具體項目、它們包含的內容以及直接清理它們的指令。

| 目標名稱 | 指令旗標 | 描述 |
| :--- | :--- | :--- |
| 網站結構 | `websiteStructure` | 從工作區移除網站結構檔案（`website-structure.yaml`）。您原始的來源內容不受影響。 |
| 生成的頁面 | `generatedPages` | 從工作區刪除所有生成的頁面內容。此操作會保留網站結構檔案。 |
| 網站配置 | `websiteConfig` | 刪除主要的 `config.yaml` 檔案。**注意：** 此操作不可逆。您需要執行 `aigne web init` 來生成一個新的配置檔案。 |
| 授權 | `authTokens` | 刪除儲存驗證權杖的 `.env.websmith` 檔案。清理後，您需要為發布等操作重新授權。 |
| 部署配置 | `deploymentConfig` | 僅從您的 `config.yaml` 檔案中移除 `appUrl` 金鑰。這在重置部署目標而不想刪除整個網站配置時很有用。 |
| 媒體檔案描述 | `mediaDescription` | 刪除為您的媒體資產快取的、由 AI 生成的描述。這些描述將在下次執行 `generate` 指令時自動重新生成。 |
| 翻譯快取 | `translationCaches` | 刪除由 AI 生成的翻譯快取。這些快取將在下次發布時自動重新生成。 |

## 非互動式清理

若要繞過互動式提示，您可以使用 `--targets` 旗標，後面跟著一個或多個目標名稱。這對於編寫腳本或自動化清理任務很有用。

### 清理單一目標
若要清理單一項目，請使用 `--targets` 旗標指定其名稱。

```bash 清理網站結構 icon=lucide:terminal
aigne web clear --targets websiteStructure
```

### 清理多個目標

您可以提供一個以空格分隔的目標列表，以一次性清理多個項目。以下範例同時清理網站結構和生成的頁面。

```bash 清理多個目標 icon=lucide:terminal
aigne web clear --targets websiteStructure generatedPages
```

## 總結

`clear` 指令提供了一種安全且可控的方式來管理您專案中生成的資產和配置。使用互動模式進行引導式清理，或使用 `--targets` 旗標進行直接、自動化的控制。請務必謹慎操作，尤其是在清理 `websiteConfig` 時，以避免意外的資料遺失。

清理您的工作區或生成的頁面後，您可能需要再次建立網站。更多詳情，請參閱[建立網站](./guides-create-website.md)。
