name: checkStructurePlanResult
description: 对 structure-planning agent 生成的结果进行检查，确保其符合预期，特别是在有上一轮生成结果和用户反馈的场景下。
instructions:
  url: ../prompts/check-structure-planning-result.md
input_schema:
  type: object
  properties:
    structurePlan:
      $ref: ./schema/structure-plan.yaml
      description: 新一轮生成的结构规划。
    originalStructurePlan:
      $ref: ./schema/structure-plan.yaml
      description: 上一轮生成的结构规划，用于对比。如果不存在，则检查默认通过。
    feedback:
      type: string
      description: 用户针对上一轮结果提供的反馈。
  required:
    - structurePlan
output_schema:
  type: object
  properties:
    isValid:
      type: boolean
      description: 检查是否通过。true 表示通过，false 表示不通过。
    structureReviewFeedback:
      type: string
      description: 检查结果的详细说明。如果不通过，需要明确指出哪里不符合要求。
  required:
    - isValid
    - structureReviewFeedback
