type: team
name: content-generator
description: WebSmith 主协调 Agent，负责网站生成的完整流程：结构规划 -> 评估 -> 批量内容生成 -> Pages Kit 发布
skills:
  - structure-planning.yaml
  - type: transform
    jsonata: |
      $merge([$, {"originalStructurePlan": structurePlan}])
  - evaluation.yaml
  - batch-content-detail-generator.yaml
input_schema:
  type: object
  properties:
    rules:
      type: string
      description: 用户的网站生成要求和规则
    locale:
      type: string
      description: 用户语言，如 zh、en
      default: zh
    datasources:
      type: string
      description: 结构规划的上下文，用于辅助结构规划
    evaluationDimensions:
      type: string
      description: 评估维度
      default: |
        请从以下维度评估网站结构规划的质量：
        1. **SEO 优化**：页面结构是否有利于搜索引擎优化
        2. **用户体验**：导航是否清晰，页面层级是否合理
        3. **内容完整性**：是否覆盖了用户需求的主要内容
        4. **网站架构**：页面组织是否符合现代网站设计原则
    componentList:
      type: string
      description: 组件列表配置，用于页面模板生成
    targetAudience:
      type: string
      description: 目标受众
    websiteStyle:
      type: string
      description: 网站风格
    projectId:
      type: string
      description: Pages Kit 项目 ID（用于发布）
  required:
    - rules
    - datasources
output_schema:
  type: object
  properties:
    structurePlan:
      type: array
      description: 网站结构规划
    evaluationResult:
      type: object
      description: 结构规划评估结果
    contentDetails:
      type: array
      description: 生成的网站内容详情
    websiteResults:
      type: object
      description: 完整的网站生成结果
mode: sequential