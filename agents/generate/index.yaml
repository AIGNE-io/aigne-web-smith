type: team
name: generate
alias:
  - gen
  - g
description: Automatically generates comprehensive website pages
skills:
  - url: ../init/index.mjs
    default_input:
      skipIfExists: true
  - ../utils/load-config.mjs
  - ../utils/load-sources.mjs
  - ../plan/analyze-website-structure.mjs
  - url: ../utils/save-output.mjs
    default_input:
      saveKey: websiteStructure
      savePath:
        $get: tmpDir
      fileName: website-structure.yaml
  - ../plan/user-review-website-structure.mjs
  - url: ../utils/save-output.mjs
    default_input:
      saveKey: websiteStructure
      savePath:
        $get: tmpDir
      fileName: website-structure.yaml
  - ../utils/transform-website-structure.yaml
  - ../utils/format-website-structure.mjs
  - ../media/load-media-description.mjs
  - ../generate/page-detail/batch-generate-page-detail.yaml
  - ./page-detail/load-page-detail.mjs
  - ../utils/reload-generate-media.mjs
  - type: team
    name: batchTranslatePageDetail and analyzeTranslateNavigations
    # model: openai/gpt-5
    skills:
      - ../translate/page-detail/batch-translate-page-detail.yaml
      - ../translate/navigations/analyze-translate-navigations.mjs
      # - ./component-library/analyze-component-library.mjs
    mode: parallel
  - ./page-data/compose-pages-data.mjs
  - ../utils/save-pages.mjs

input_schema:
  type: object
  properties:
    glossary:
      type: string
      description: Glossary of terms for consistent terminology, use @<file> to read from a file
    forceRegenerate:
      type: boolean
      description: Force regenerate all pages
  required:
    - config
mode: sequential
