type: team
name: batchTranslatePageDetail
description: batch translate page detail

mode: sequential
skills:
  - url: ../utils/transform-website-structure.yaml
    task_render_mode: hide
  - type: transform
    name: analyzePagesAndLanguages
    task_render_mode: hide
    jsonata: |
      $merge([
        $,
        {
          'langs': translateLanguages,
          'pages': [$map(websiteStructureResult, function($item) {
            $item.path
          })]
        }
      ])
  - url: ../utils/choose-pages.mjs
    default_input:
      isTranslate: true
      requiredFeedback: false
  - url: ./choose-language.mjs
  - type: team
    name: batchTranslatePageDetail
    model: openai/gpt-5-nano
    skills:
      - url: ./translate-page-detail-team.yaml
      - url: ../utils/save-single-page.mjs
        default_input:
          isTranslate: true
    iterate_on: selectedPages
    concurrency: 3
