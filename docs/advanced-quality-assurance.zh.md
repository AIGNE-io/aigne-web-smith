---
labels: ["Reference"]
---

# 质量保证

为确保您的文档始终保持高质量，DocSmith 内置了一个强大的自动化质量保证流程。这些内置检查在生成和更新过程中自动运行，以检测并报告常见问题（从链接失效到格式错误），从而在问题影响到读者之前予以解决。

该流程会验证您内容的多个方面，以保持结构的完整性和准确性。

```d2
direction: right

Input: "Markdown 内容"

QA_Pipeline: "DocSmith QA 流程" {
  shape: package
  
  Checks: {
    grid-columns: 2
    "结构完整性": "代码块不完整和缩进不一致"
    "链接和资源健康状况": "失效链接和本地图片缺失"
    "图表验证": "D2 语法检查"
    "Markdown 语法检查": "表格格式和标准规则"
  }
}

Output: "经验证的文档"

Input -> QA_Pipeline: "分析"
QA_Pipeline -> Output: "生成"
```

### 内容和结构完整性

DocSmith 会分析 Markdown 文件的基本结构，以捕获那些经常导致渲染失败或输出混乱的问题。

- **代码块不完整**：验证器会确保每个以 ` ``` ` 开始的代码块都已正确关闭。未关闭的代码块可能导致文档的大部分内容无法正确渲染。
- **缩进不一致**：系统会标记出缩进不一致的代码块。这对于缩进具有语法意义的代码示例以及防止意外的渲染问题尤为重要。
- **内容完整性**：系统通过验证内容是否以适当的标点符号（例如 `.`、`)`、`|`）结尾，来检查内容是否被截断。这有助于捕获不完整的生成结果。

### 链接和资源验证

失效链接和缺失图片会降低用户体验。DocSmith 会自动验证这些资源，以确保读者始终可以访问它们。

- **失效链接检查**：所有内部链接都会与您项目结构计划中定义的路径进行交叉引用。任何指向不存在页面的链接都将被报告为失效链接。
- **本地图片验证**：对于本地图片（即未托管在外部服务器上的图片），系统会检查引用的图片文件是否存在于指定的相对或绝对路径中。

### 图表验证

为确保所有图表都能正确渲染，DocSmith 会专门验证 D2 代码块的语法。在处理之前，系统会检查 D2 内容的语法正确性。如果发现错误，系统会进行标记，以防止发布损坏的图表。

### Markdown 格式化与语法检查

除了主要的结构性问题，DocSmith 还会对 Markdown 进行语法检查，以确保格式的一致性和正确性，并利用既定标准来强制执行清晰易读的风格。关键检查包括：

| 检查类别 | 描述 |
|---|---|
| **表格格式化** | 验证表格的表头、分隔线和数据行中的列数是否一致。列数不匹配是导致表格损坏的常见原因。 |
| **标题问题** | 检测同一文档中的重复标题或使用不当缩进的标题，这些问题可能会破坏文档大纲。 |
| **引用验证** | 检查未定义的引用，例如使用了链接引用 `[text][ref]`，但未在其他地方定义 `[ref]: url`。 |
| **代码块样式** | 确保一致地使用代码块标记，以提高可读性和解析效率。 |

这个自动化的质量保证层是 DocSmith 架构的核心部分，旨在最大限度地减少人工审查，并确保您的文档始终准确、专业且可靠。要了解有关整体生成流程的更多信息，请参阅[工作原理](./advanced-how-it-works.md)。